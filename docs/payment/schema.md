---
layout: nocompress
nav_order: 10
title: "Схема взаимодействия"
parent: "Платёжные инструменты и банки"
date: 2023-10-25 00:00:00 +0300
---

# Схема взаимодействия с платёжным инструментом

<div class="mermaid">
sequenceDiagram
    autonumber
    participant Покупатель
    participant Платёжный инструмент
    participant Инвойсбокс
    rect rgb(204, 245, 204)
      Покупатель->>Платёжный инструмент: Выбор способа оплаты и переход на страницу платёжного инструмента
      Платёжный инструмент->>Инвойсбокс: Вызов метода получения информации по счёту
      Покупатель->>Платёжный инструмент: Подтверждение оплаты счёта
      Платёжный инструмент->>Инвойсбокс: Вызов метода подтверждения оплаты счёта
      Платёжный инструмент->>Покупатель: Перенаправление на платёжную страницу
    end
</div>

1. Покупатель оформляет заказ и выбирает способ оплаты через платёжный инструмент. Покупатель перенаправляется на страницу авторизации платёжного инструмента с идентификатором счёта. Ссылка на страницу авторизации предоставляется платёжным инструментом. Также могут быть переданы ссылки возврата на случай обработки негативных сценариев при работе с API.
1. Система платёжного инструмента получает информацию по счёту из системы &laquo;Инвойсбокс&raquo; по API [через метод API](/docs/payment/get/).
1. Покупатель подтверждает оплату счёта.
1. Система платёжного инструмента подтверждает оплату счёта в системе &laquo;Инвойсбокс&raquo; по API [через метод API](/docs/payment/confirm_payment/).
1. Платёжный инструмент перенаправляет покупателя по полученной ссылке (в запросе информации по счёту) на платёжную страницу системы &laquo;Инвойсбокс&raquo;.

---

[Читать далее &raquo;](/docs/payment/get/){: .btn .btn-primary .mb-4 .mb-md-0 .mr-2 }

