---
layout: default
nav_order: 10
title: "Осуществление возврата"
parent: "Работа с возвратом"
grand_parent: "Приём платежей"
date: 2023-10-25 00:00:00 +0300
---

# Осуществление возврата

Осуществить возврат средств возможно только по оплаченному заказу. Перед оплатой, пожалуйста, воспользуйтесь [методом удаления заказа](/order/merchant/delete).
Схема осуществления возврата по оплаченному заказу следующая:
- Получить список доступных для возврата позиций
- Создание возвратного заказа


## Получается список доступных для возврата позиций:

- метод: `GET`
- ресурс: `/v3/billing/api/order/order/:uuid/refund-basket-item` - где `:uuid` это идентификатор заказа
- тело ответа - array of [BasketItem](/docs/merchant/order/create/#basketitem)

## Создание возвратного заказа

- метод: `POST`
- ресурс: `/v3/billing/api/order/refund-order`
- тело запроса - объект [CreateRefundOrderRequest](#createrefundorderrequest)
- тело ответа - объект [RefundOrderResponse](#refundorderresponse)

## CreateRefundOrderRequest

| Свойство        | Обязательное | Тип                                                   | Описание                                                                                                                              | Пример значения                        |
|-----------------|--------------|-------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
| parentId        | да           | string(36)                                            | Идентификатор базового заказа                                                                                                         | `01771534-196a-1105-839a-82422289d6d9` |
| merchantOrderId | да           | string(100)                                           | Идентификатор возвратного заказа в учётной системе магазина, для каждого отдельного возврата значение должно быть уникальным          | `O-12345`                              |
| amount          | да           | float                                                 | Сумма заказа                                                                                                                          | `19658.45`                             |
| vatAmount       | да           | float                                                 | Сумма НДС                                                                                                                             | `156.56`                               |
| basketItems     | да           | array of [BasketItem](/docs/merchant/order/create/#basketitem) | Корзина заказа                                                                                                                        |                                        |
| description     | да           | string(1000)                                          | Описание заказа                                                                                                                       | `Оплата номера в отеле`                |
| status          | нет          | string(50) enum                                       | Статус заказа, по умолчанию `created`, так же возможен статус `draft` для создания [корректирующих заказов](/docs/merchant/refund/correction/) | `created`                              |

{: .important }
> При формировании нескольких возвратов в рамках одного заказа, необходимо передавать уникальный идентификатор возвратного заказа (возврата) merchantOrderId
для каждого отдельного возврата. В случае, если будет передан уже существующий идентификатор, будет возвращена ошибка. Подобный механизм предупреждает инциденты
случайных двойных возвратов.

## RefundOrderResponse

| Свойство        | Обязательное | Тип                                | Описание                                        | Пример значения                        |
|-----------------|--------------|------------------------------------|-------------------------------------------------|----------------------------------------|
| id              | да           | string(36)                         | Идентификатор заказа в системе Инвойсбокс       | `01771534-1a57-f184-dee3-ebeb91dded75` |
| parentId        | да           | string(36)                         | Идентификатор базового заказа                   | `01771534-196a-1105-839a-82422289d6d9` |
| description     | да           | string(1000)                       | Описание заказа                                 | `Оплата номера в отеле`                |
| merchantOrderId | да           | string(256)                        | Идентификатор заказа в учётной системе магазина | `O-12345`                              |
| merchantId      | да           | string(36)                         | Идентификатор магазина                          | `01771534-1a57-f184-dee3-ebeb91dded76` |
| amount          | да           | float                              | Сумма заказа                                    | `19658.45`                             |
| vatAmount       | да           | float                              | Сумма НДС                                       | `156.56`                               |
| currencyId      | да           | string(3)  enum                    | Валюта заказа                                   | `RUB`                                  |
| basketItems     | да           | array of [BasketItem](/docs/merchant/order/create/#basketitem) | Корзина заказа      |                                        |
| createdAt       | да           | datetime                           | Дата создания заказа                            | `2020-12-22T00:00:00+00:00`            |
| status          | да           | string(50) enum                    | Статус заказа                                   | `completed`                            |

---

[Читать далее &raquo;](/docs/merchant/refund/get){: .btn .btn-primary .mb-4 .mb-md-0 .mr-2 }

